<html><head></head><body><h3 id="native-input"><code>native input</code></h3>
Selected: {{selected1}}
<ul matselection="" [datasource]="data" [matselectionmultiple]="true" (matselectionchange)="selected1 = getCurrentSelected($event)">
  <input type="checkbox" matselectall="" #alltoggler="matSelectAll" [checked]="allToggler.checked | async" [indeterminate]="allToggler.indeterminate | async" (click)="allToggler.toggle($event)">
  <li *ngfor="let item of data">
    <input type="checkbox" matselectiontoggle="" #toggler="matSelectionToggle" [matselectiontogglevalue]="item" [checked]="toggler.checked | async" (click)="toggler.toggle()">
    {{item}}
  </li>
</ul>

<h3 id="mat-checkbox"><code>mat-checkbox</code></h3>
Selected: {{selected2}}
<ul matselection="" [datasource]="data" [matselectionmultiple]="true" (matselectionchange)="selected2 = getCurrentSelected($event)">
  <mat-checkbox matselectall="" #toggle1="matSelectAll" [indeterminate]="toggle1.indeterminate | async"></mat-checkbox>
  <li *ngfor="let item of data">
    <mat-checkbox matselectiontoggle="" [matselectiontogglevalue]="item"></mat-checkbox>
    {{item}}
  </li>
</ul>

<h3 id="single-select-with-mat-checkbox"><code>Single select with mat-checkbox</code></h3>
Selected: {{selected3}}
<ul matselection="" [datasource]="data" [matselectionmultiple]="false" (matselectionchange)="selected3 = getCurrentSelected($event)">
  <li *ngfor="let item of data">
    <mat-checkbox matselectiontoggle="" [matselectiontogglevalue]="item"></mat-checkbox>
    {{item}}
  </li>
</ul>

<h3 id="with-trackby"><code>with trackBy</code></h3>
Selected: {{selected4}}
<ul matselection="" [datasource]="data" [matselectionmultiple]="true" [trackby]="trackByFn" (matselectionchange)="selected4 = getCurrentSelected($event)">
  <mat-checkbox matselectall="" #toggle2="matSelectAll" [indeterminate]="toggle2.indeterminate | async"></mat-checkbox>
  <li *ngfor="let item of data; index as i; trackBy: trackByFn">
    <mat-checkbox matselectiontoggle="" [matselectiontogglevalue]="item" [matselectiontoggleindex]="i"></mat-checkbox>
    {{item}}
  </li>
</ul>

<button (click)="changeElementName()">Change element names and the already selected stays</button>
<button (click)="reset()">reset</button>
</body></html>