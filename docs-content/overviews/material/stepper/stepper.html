<div class="docs-markdown"><p data-ng_translator_product="100" data-ng_translator_ref_id="6e9cjs8cyzen00vge7o14e5kz">Angular Material 的步进器通过把内容拆分成一些逻辑步骤，提供了一个向导式的工作流。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="cxeuqkvs4l7q7c4u5pw8qf0pz">Material 步进器基于 CDK 中的步进器 —— 它负责实现驱动步进式工作流的逻辑部分。而 Material 步进器扩展了 CDK 的步进器，让它具有 Material Design 的样式。</p>

        <h3 id="stepper-variants" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="7bnr68l9zphnn65e4il79g89z">步进器的变体形式</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="83oxjnby2pnv1bh68g6v7y5qj">有两个步进器组件：<code>mat-horizontal-stepper</code> 和 <code>mat-vertical-stepper</code>。
他们可以用相同方式使用，唯一的区别是步进器的方向。</p>
<div material-docs-example="stepper-overview"></div>

<div material-docs-example="stepper-vertical"></div>


        <h3 id="labels" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="5yn5zj155xkwp1i90ep8nc7ip">标签</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="2pj9imjfxlwz4mohbzerediy2">如果步进器的标签只是纯文本，那么可以使用 <code>label</code> 属性。</p>
<div material-docs-example="stepper-overview" file="stepper-overview-example.html" region="label"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="cxobmngdy97tqxjvkjlvytce2">对于更复杂的标签，可以在 <code>mat-step</code> 的 <code>matStepLabel</code> 指令中添加一个模板。</p>
<div material-docs-example="stepper-editable" file="stepper-editable-example.html" region="step-label"></div>


        <h4 id="label-position" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="4r1raisopdmhtmqsm9i4hzvfe">标签位置</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="1u9jk2jkn0jqxz5bypiqac2qr"><code>mat-horizontal-stepper</code> 可以定义标签的位置。<code>end</code> 是默认值，而 <code>bottom</code> 会把它放在步骤图标的下面而不是侧面。这个行为是由 <code>labelPosition</code> 属性控制的。</p>
<div material-docs-example="stepper-label-position-bottom" file="stepper-label-position-bottom-example.html" region="label-position"></div>


        <h4 id="header-position" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="2uxzmdrpp765pet24ipba5n6v">标题位置</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="dzcd2ml241ayu1cpvmpxdnafv">如果你使用的是水平步进器，则可以使用 <code>headerPosition</code> 输入属性来控制步进器内容的位置。默认情况下，它位于内容的顶部，但也可以放在其下方。</p>
<div material-docs-example="stepper-header-position"></div>


        <h3 id="stepper-buttons" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="aa8zdlory4ahg8l8l2g7n4943">步进按钮</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="eun7ksc6uqzb5xtg20g1hqto">有两个按钮指令用来支持不同步骤之间的导航：<code>matStepperPrevious</code> 和 <code>matStepperNext</code>。</p>
<div material-docs-example="stepper-label-position-bottom" file="stepper-label-position-bottom-example.html" region="buttons"></div>


        <h3 id="linear-stepper" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="dgigy4cr27084280zrd53usvh">线性步进器</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="e3i0foy2s3uoncuxtg7qpedgx">可以设置 <code>mat-horizontal-stepper</code> 和 <code>mat-vertical-stepper</code> 的 <code>linear</code> 属性来创建线性步进器，它会要求用户必须完成了前面的步骤才能继续。
对于每个 <code>mat-step</code>，都可以把它的 <code>stepControl</code> 属性设置为一个上级 <code>AbstractControl</code> 来检查该步骤的有效性。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="e2f8avhapbdkre6h46r8ysnp6">有两种可能的方式。一种是使用单一表单进行步进，另一种是使用不同的表单进行步进。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="5yjgyk1ydn4zlisi6b1d096n5">或者，如果你不想使用 Angular 表单，也可以把 <code>completed</code> 属性传入每个步骤，这些步骤会阻止用户继续，直到这个属性变为 <code>true</code>。注意，如果同时设置了 <code>completed</code> 和 <code>stepControl</code>，则 <code>stepControl</code> 优先。</p>

        <h4 id="using-a-single-form" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="antlmn4vmqfobixtck6lgzp5a">使用单一表单</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="5r7k5iiuxtic0vry7a3fh09y">当步进器使用单一表单时，<code>matStepperPrevious</code> 和 <code>matStepperNext</code> 所在的元素都应该设置为 <code>type="button"</code>，以防止在完成了所有步骤之前提交该表单。</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"formGroup"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">mat-stepper</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"formArray"</span> <span class="hljs-attr">linear</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mat-step</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"0"</span> [<span class="hljs-attr">stepControl</span>]=<span class="hljs-string">"formArray.get([0])"</span>&gt;</span>
      ...
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">mat-button</span> <span class="hljs-attr">matStepperNext</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>Next<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mat-step</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mat-step</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"1"</span> [<span class="hljs-attr">stepControl</span>]=<span class="hljs-string">"formArray.get([1])"</span>&gt;</span>
      ...
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">mat-button</span> <span class="hljs-attr">matStepperPrevious</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>Back<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">mat-button</span> <span class="hljs-attr">matStepperNext</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>Next<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mat-step</span>&gt;</span>
    ...
  <span class="hljs-tag">&lt;/<span class="hljs-name">mat-stepper</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>

        <h4 id="using-a-different-form-for-each-step" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="86ocxk7ossrknd1oh6610ppwi">为每个步骤使用不同的表单</h4>
      <pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">mat-stepper</span> <span class="hljs-attr">orientation</span>=<span class="hljs-string">"vertical"</span> <span class="hljs-attr">linear</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">mat-step</span> [<span class="hljs-attr">stepControl</span>]=<span class="hljs-string">"formGroup1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"formGroup1"</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">mat-step</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">mat-step</span> [<span class="hljs-attr">stepControl</span>]=<span class="hljs-string">"formGroup2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"formGroup2"</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">mat-step</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mat-stepper</span>&gt;</span>
</code></pre>

        <h3 id="types-of-steps" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="czbfexhhghqcznd3voptwq6is">步骤的类型</h3>
      
        <h4 id="optional-step" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="4855xq9n7vn0792eoo241778n">可选步骤</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="svsf45sm9278hu5fyzx3pg3o">如果线性步进器中的某个步骤不是必须完成的，可以在那个 <code>mat-step</code> 上设置 <code>optional</code> 属性。</p>
<div material-docs-example="stepper-optional" file="stepper-optional-example.html" region="optional"></div>



        <h4 id="editable-step" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="f3f99mvhi7kvt515gme4cre64">可编辑的步骤</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="30o891o7ezgupilbzx3f4wyan">默认情况下，每个步骤都是可编辑的，也就是说用户可以回到前一个已经完成的步骤，并编辑他们的回复。可以设置 <code>mat-step</code> 的 <code>editable="true"</code> 来修改这种默认行为。</p>
<div material-docs-example="stepper-editable" file="stepper-editable-example.html" region="editable"></div>


        <h4 id="completed-step" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="bdfujg6iop7nihpqx2gfd9x60">完成步骤</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="180x2o158khowvnd97xm6sel">默认情况下，如果步骤有效（在线性步进器的情况下）并且用户已经与该步骤交互过，则该步骤的 <code>completed</code> 属性会返回 <code>true</code>。但是，用户也可以按需设置 <code>completed</code> 属性来覆盖默认的 <code>completed</code> 行为。</p>

        <h4 id="overriding-icons" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="amd2p03ujw98y8mwky1836qy1">改写图标</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="1z7015wmp57ktq4uhbf2nslak">默认情况下，步骤头中会通过 <code>&lt;mat-icon&gt;</code> 元素来设置 Material Design 中的 <code>create</code> 和 <code>done</code> 图标。
如果你要提供另一个图标集，则可以为要覆盖的图标单独设置 <code>matStepperIcon</code>。每个步骤的 <code>index</code>、<code>active</code> 和 <code>optional</code>
的值都可以通过模板变量进行访问：</p>
<div material-docs-example="stepper-states" file="stepper-states-example.html" region="override-icons"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="clu6d2qihcsvmauxh8wlmqmnb">注意，要想提供自定义图标，你不一定非要用 <code>mat-icon</code> 组件。</p>

        <h3 id="controlling-the-stepper-animation" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="9hot950autl3rqwaelqcll1sv">控制步进器动画</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="7y8q3xcrrjbkwbkzyfesu54tr">你可以使用 <code>animationDuration</code> 输入属性来控制步进器动画的持续时间。如果要完全禁用动画，可以通过将此属性设置为 <code>0ms</code> 来实现。</p>
<div material-docs-example="stepper-animations"></div>


        <h4 id="step-states" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="39qz28dxoi6308yx3d71zcbwz">步骤的状态</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="61hth4pfcxic7123fmlh9j5kc">你可以随意设置某个步骤的状态。默认情况下，指定的状态会映射到一个图标。不过，你也同样可以像前面所说的那样去覆盖它。</p>
<div material-docs-example="stepper-states" file="stepper-states-example.html" region="states"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="9mgwcg1wyws68oa8tooldsxv7">为了使用自定义的步骤状态，你必须把 <code>displayDefaultIndicatorType</code> 选项添加到全局的默认步进器选项中。你可以通过在应用的根模块中给 <code>STEPPER_GLOBAL_OPTIONS</code> 令牌提供一个值来指定它。</p>
<pre><code class="language-ts"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">providers</span>: [
    {
      <span class="hljs-attr">provide</span>: STEPPER_GLOBAL_OPTIONS,
      <span class="hljs-attr">useValue</span>: { <span class="hljs-attr">displayDefaultIndicatorType</span>: <span class="hljs-literal">false</span> }
    }
  ]
})
</code></pre>
<div material-docs-example="stepper-states"></div>


        <h3 id="error-state" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="1kru1phuciep3myh6atyil4m1">错误状态</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="21nm6ny8zc45gomohkfr9fcqn">如果要在用户移过一个尚未正确填写的步骤时显示错误，可以通过输入属性 <code>errorMessage</code> 设置错误信息。并且通过 <code>STEPPER_GLOBAL_OPTIONS</code> 令牌中的 <code>showError</code> 选项配置步进器显示错误的方式。请注意，由于 <code>linear</code> 步进器会阻止用户跳过无效的步骤，因此该设置不会影响标记为 <code>linear</code> 的步进器。</p>
<pre><code class="language-ts"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">providers</span>: [
    {
      <span class="hljs-attr">provide</span>: STEPPER_GLOBAL_OPTIONS,
      <span class="hljs-attr">useValue</span>: { <span class="hljs-attr">showError</span>: <span class="hljs-literal">true</span> }
    }
  ]
})
</code></pre>
<div material-docs-example="stepper-errors"></div>


        <h3 id="lazy-rendering" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="f29oqevjq87vhbtv91n3ng2zt">延迟渲染</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="2a07i7pyebjo3a6ac9w7mi2ky">默认情况下，步进器将在初始化时渲染其所有内容。如果你有一些内容要推迟到打开特定步骤之前才渲染，你可以将其放入具有 <code>matStepContent</code> 属性的 <code>ng-template</code> 中。</p>
<div material-docs-example="stepper-lazy-content"></div>


        <h3 id="responsive-stepper" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="c5smjqnla3ixqbz3glmj7646s">响应式步进器</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="461una8bdpns78ush0wskbtdu">如果你的应用支持多种屏幕并且步进器的布局不适合特定的屏幕尺寸，你可以动态控制其 <code>orientation</code> 以根据视口更改布局。</p>
<div material-docs-example="stepper-responsive"></div>


        <h3 id="keyboard-interaction" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="cbrztssap137sgktrlf2lr30o">键盘交互</h3>
      <table>
<thead>
<tr>
<th data-ng_translator_product="100" data-ng_translator_ref_id="863ede35wj8nw5s9y0a34i8kj">键盘快捷键</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="mrmhabmulen10w0rlhu0uhf">操作</th>
</tr>
</thead>
<tbody><tr>
<td><kbd data-ng_translator_product="100" data-ng_translator_ref_id="4m0p4qdgltnr6yjhf23kpz972">左箭头</kbd></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="63uz2qa8v5bfdtf5qjwxo0uey">将焦点移至上一步标题。</td>
</tr>
<tr>
<td><kbd data-ng_translator_product="100" data-ng_translator_ref_id="aruecgxx5vlnrezl533zabo1d">右箭头</kbd></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="5p5yb5nj2el5r7gy03smo4ihk">将焦点移至下一步标题。</td>
</tr>
<tr>
<td><kbd data-ng_translator_product="100" data-ng_translator_ref_id="eaqxyduesc434wq43zo3dxu6z">回车</kbd></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="1setca9ibwzc85nya7aygtmgt">选择已获得焦点的步骤。</td>
</tr>
<tr>
<td><kbd data-ng_translator_product="100" data-ng_translator_ref_id="cm43fpvgrde0fo7drzngbdx1w">空格</kbd></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="1setca9ibwzc85nya7aygtmgt">选择已获得焦点的步骤。</td>
</tr>
</tbody></table>

        <h3 id="localizing-labels" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="9tdfxnq97vemhr02htf6wdtd3">本地化标签</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="bxdvvjxslgufdlg1umjp17q2y">步进器所用的标签是通过 <code>MatStepperIntl</code> 提供的。要想对这些消息进行本地化，可以在应用的根模块中提供它的一个带翻译值的子类。</p>
<pre><code class="language-ts"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">imports</span>: [MatStepperModule],
  <span class="hljs-attr">providers</span>: [
    {<span class="hljs-attr">provide</span>: MatStepperIntl, <span class="hljs-attr">useClass</span>: MyIntl},
  ],
})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> </span>{}
</code></pre>
<div material-docs-example="stepper-intl"></div>


        <h3 id="accessibility" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="55b8z3baik2ejxevaqhco84f8">无障碍性</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="9fr39o5xc4temt80a37yot8za">从无障碍性的角度看，步进器和选项卡视图是一样的，所以默认会为它指定 <code>role="tablist"</code>。
步骤的头可以点击，以选择该步骤，所以指定 <code>role="tab"</code>，其内容可以在选中时展开，所以指定 <code>role="tabpanel"</code>。
步骤头的 <code>aria-selected</code> 属性和步骤内容的 <code>aria-expanded</code> 属性会根据其选中状态的变化进行自动设置。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="9le4kr6iq6nh8j9fc7c5bbew3">步进器和每个步骤都应该通过 <code>aria-label</code> 或 <code>aria-labelledby</code> 给出一个有意义的标签。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="da8kkky629k1ookkhlt4993vp">在为小屏幕尺寸构建时更喜欢垂直步进器，因为水平步进器通常会占用更多的水平空间，从而引入水平滚动。具有多个滚动维度的应用程序会使某些用户更难以消费内容。有关构建基于视口大小调整其布局的步进器的示例，请参阅上面的<a href="#responsive-stepper">响应式步进器部分</a>。</p>

        <h4 id="forms" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="at4nz4ago64lbokgy6vfqlcgt">表单</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="blt83ywe36kb8xtgwzykmwvhk">步进器通常会包含表单和表单控件。如果步进器表单中的验证错误阻止了移动到另一个步骤，请确保你的表单控件将错误消息传达给辅助技术。这有助于用户了解为什么他们不能前进到另一个步骤。你可以通过将 <code>&lt;mat-error&gt;</code> 与 <code>&lt;mat-form-field&gt;</code> 结合使用或使用 ARIA 实时区域来完成此操作。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="e7hv9ugin6fkryzdmdio7qyfo">当某个步骤包含表单验证错误时，<code>MatStepper</code> 将在步骤的标题中显示错误（如果指定过）。有关带有错误消息的步进器示例，请参阅<a href="#error-state">错误状态部分</a>。对于非线性步进器，当用户离开带有错误消息的步骤时，你应该使用 ARIA 实时区域来播报错误消息。</p>
</div>