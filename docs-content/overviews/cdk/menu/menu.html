<div class="docs-markdown"><p data-ng_translator_product="100" data-ng_translator_ref_id="9h54xtj3v4utyc9hlapmi3l42"><code>@angular/cdk/menu</code> 模块提供了一些指令来帮助创建基于 <a href="https://www.w3.org/TR/wai-aria-1.1/" title="ARIA Spec">WAI ARIA 规范</a> 的自定义菜单交互。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8bnko4j0pxnfndh1z58hxmfu7">通过使用 <code>@angular/cdk/menu</code> ，你可以获得无障碍化的所有预期行为，包括双向布局支持、键盘交互和焦点管理。所有指令都会将其关联的 ARIA 角色应用于其宿主元素。</p>

        <h3 id="supported-aria-roles" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="e2t4lqedorsrxp6n722xgcglv">支持的 ARIA 角色</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="5un0eo4jftnskfrjfryspc85b"><code>@angular/cdk/menu</code> 中的指令在其宿主元素上设置适当的角色。</p>
<table>
<thead>
<tr>
<th data-ng_translator_product="100" data-ng_translator_ref_id="1qejxun37dz68k5ig2h0hy3bw">指令</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="bnahcf8gvc29y03zhn22vu50s">ARIA 角色</th>
</tr>
</thead>
<tbody><tr>
<td>CdkMenuBar</td>
<td>menubar</td>
</tr>
<tr>
<td>CdkMenu</td>
<td>menu</td>
</tr>
<tr>
<td>CdkMenuGroup</td>
<td>group</td>
</tr>
<tr>
<td>CdkMenuItem</td>
<td>menuitem</td>
</tr>
<tr>
<td>CdkMenuItemRadio</td>
<td>menuitemradio</td>
</tr>
<tr>
<td>CdkMenuItemCheckbox</td>
<td>menuitemcheckbox</td>
</tr>
<tr>
<td>CdkMenuTrigger</td>
<td>button</td>
</tr>
</tbody></table>

        <h3 id="css-styles-and-classes" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="5s8a34fccg1l07a1uzvb8iwf3">CSS 样式和类</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="b8llc1l5t3mowhl7n3tt7ueeq"><code>@angular/cdk/menu</code> 旨在根据你的需求高度定制。因此，它不对元素的样式做出任何假设。你可以应用任何所需的 CSS 样式，但这些指令确实应用了一些 CSS 类，以便你更轻松地添加自定义样式。下面按指令列出了可用的 CSS 类。</p>
<table>
<thead>
<tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1qejxun37dz68k5ig2h0hy3bw">指令</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="e3ca1sv90dqqgy3tkq86esdhw">CSS 类</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="8tkt1zylcccsia69togkr4bfc">应用…</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>cdkMenu</code></td>
<td><code>cdk-menu</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenu</code></td>
<td><code>cdk-menu-inline</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="9cth65iiyyu0k7y2f8hl3gf3z">如果菜单是 
<a href="#menu-content">内联菜单</a></td>
</tr>
<tr>
<td align="left"><code>cdkMenuBar</code></td>
<td><code>cdk-menu-bar</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuGroup</code></td>
<td><code>cdk-menu-group</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuItem</code></td>
<td><code>cdk-menu-item</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuItemCheckbox</code></td>
<td><code>cdk-menu-item</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuItemCheckbox</code></td>
<td><code>cdk-menu-item-checkbox</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuItemRadio</code></td>
<td><code>cdk-menu-item</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuItemRadio</code></td>
<td><code>cdk-menu-item-radio</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left"><code>cdkMenuTriggerFor</code></td>
<td><code>cdk-menu-trigger</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
</tbody></table>

        <h3 id="getting-started" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="25kql3n3h5elrbwt098akm93o">入门指南</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="6xs6pifftvm5f6a7wg6fvrdss">将 <code>CdkMenuModule</code> 导入要在其中创建菜单的 <code>NgModule</code> 。然后，你可以应用菜单指令来构建你的自定义菜单。典型的菜单包含以下指令：</p>
<ul>
<li data-ng_translator_product="100" data-ng_translator_ref_id="ef2hnsr9uzbdy4ktzb41f7huu"><code>cdkMenuTriggerFor</code> - 将触发器元素链接到包含要打开的菜单的 <code>ng-template</code></li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="5u6wjml3gnf5mfmxbrjff5b9i"><code>cdkMenu</code> - 创建由触发器打开的菜单内容</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="ajmd00davjha3m2ith03uav6h"><code>cdkMenuItem</code> - 添加到菜单中的每个菜单项</li>
</ul>
<div material-docs-example="cdk-menu-standalone-menu" file="cdk-menu-standalone-menu-example.html"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="8ovqpx2cgdvmsz0im47j5l009">大多数菜单交互由两部分组成：触发器和菜单面板。</p>

        <h4 id="triggers" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="8mtxjmog0i1t27h70qx4y6o9c">触发器</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="4ir4me1kmori177gnndr6xgyq">你可以将 <code>cdkMenuTriggerFor</code> 添加到任何按钮上以使其成为给定菜单的触发器，或者添加到任何菜单项上使其成为子菜单的触发器。添加此指令时，请务必传递对包含它要打开的菜单模板的引用。用户可以使用鼠标或键盘切换相关菜单。</p>
<div material-docs-example="cdk-menu-standalone-menu" file="cdk-menu-standalone-menu-example.html" region="trigger"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="5xk69qe37xt2mjfbnxuatpnu6">创建子菜单触发器时，像这样添加 <code>cdkMenuItem</code> 和 <code>cdkMenuTriggerFor</code> ，</p>
<div material-docs-example="cdk-menu-menubar" file="cdk-menu-menubar-example.html" region="file-trigger"></div>


        <h4 id="menu-content" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="67y0a8hjqdjc0ssqnmup29afi">菜单内容</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="aa7i25o9leycls5e4nq8om4kj">有两种类型的菜单：</p>
<ul>
<li data-ng_translator_product="100" data-ng_translator_ref_id="e0eynuxrdz89ccpf08vnlzhgh"><em>内联菜单</em>始终出现在页面上</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="6mtemufas0xvwppfwfv57t0hy"><em>弹出菜单</em>可以由用户切换以隐藏或显示</li>
</ul>
<p data-ng_translator_product="100" data-ng_translator_ref_id="9gvjsicuynfblmnostj901otg">你可以通过使用 <code>cdkMenu</code> 或 <code>cdkMenuBar</code> 指令标记其内容元素来创建菜单。你可以创建下面要讨论的这几种类型的菜单交互。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="bneqqkb20fqvctvadrpbzp2oq">所有类型的菜单都应仅包含具有 <code>menuitem</code> 、 <code>menuitemcheckbox</code> 、 <code>menuitemradio</code> 或 <code>group</code> 角色的元素。下面讨论自动应用这些角色的支持指令。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="2mg2er0xgvt2w6my3gmqauuxf">请注意，Angular CDK 不提供样式；你必须添加样式作为构建自定义菜单的一部分。</p>

        <h3 id="inline-menus" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="b5u0zjctzq99kw0weogboerzt">内联菜单</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="9jt6blendf1al638wiujv9qmv"><em>内联菜单</em>是直接存在于页面上而不是与触发器关联的弹出窗口中的菜单。当你想要在页面上进行持久菜单交互时，可以使用内联菜单。内联菜单中的菜单项在逻辑上分组在一起，你可以使用键盘浏览它们。你可以通过将 <code>cdkMenu</code> 指令添加到要用作菜单内容的元素来创建内联菜单。</p>
<div material-docs-example="cdk-menu-inline" file="cdk-menu-inline-example.html"></div>


        <h3 id="pop-up-menus" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="au341s0m2lvpcm5p8gisp3n2g">弹出菜单</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="4u2vsry275mhwwguc1j81j6vd">你也可以使用 <code>cdkMenu</code> 指令创建弹出菜单。将此指令添加到要用作弹出菜单内容的元素。然后将内容元素包装在 <code>ng-template</code> 中，并从触发器的 <code>cdkMenuTriggerFor</code> 属性中引用该模板。这将允许触发器根据需要显示和隐藏菜单内容。</p>
<div material-docs-example="cdk-menu-standalone-menu" file="cdk-menu-standalone-menu-example.html"></div>


        <h3 id="menu-bars" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="6fpnr3g0e3yew1dpxnnba3r4l">菜单栏</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="6m3c6ukarnhzj5qpmg1d3wsf6">菜单栏是一种内联菜单，你可以使用 <code>cdkMenuBar</code> 指令创建它。它们遵循 <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#menu" title="ARIA Menubar Pattern">ARIA 菜单栏</a> 规范，其行为类似于桌面应用程序菜单栏。每个栏至少包含一个触发子菜单的 <code>cdkMenuItem</code> 。</p>
<div material-docs-example="cdk-menu-menubar" file="cdk-menu-menubar-example.html"></div>


        <h3 id="context-menus" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="32vie3n2jvlm4t7j9joddxhww">上下文菜单</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="43s59u483ztfwyg2ufi52g2zh">上下文菜单是一种弹出菜单类型，它没有传统的触发元素，而是在用户在某个容器元素中右键单击时触发。你可以使用 <code>cdkContextMenuTriggerFor</code> 标记容器元素，其行为类似于 <code>cdkMenuTriggerFor</code> ，只是它响应浏览器的原生 <code>contextmenu</code> 事件。自定义上下文菜单出现在光标旁边，类似于原生上下文菜单。</p>
<div material-docs-example="cdk-menu-context" file="cdk-menu-context-example.html"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="aih808dvq0q8628x3wqewai92">你可以嵌套上下文菜单的容器元素。右键单击后，与最近的容器元素关联的菜单将打开。</p>
<div material-docs-example="cdk-menu-nested-context" file="cdk-menu-nested-context-example.html" region="triggers"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="64rvk6h1ycloe8913jzgdlob2">在上面的示例中，右键单击“Inner context menu”将打开“内部”菜单，右键单击“Outer context menu”将打开“外部”菜单。</p>

        <h3 id="menu-items" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="49kjtx1ex84qqv5tnh1xn44rh">菜单项</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ak9ox9mr1rrmk9ak1d6l3yl2g"><code>cdkMenuItem</code> 指令允许用户通过键盘导航菜单项。你可以使用 <code>cdkMenuItemTriggered</code> 输出向菜单项添加自定义操作。</p>
<div material-docs-example="cdk-menu-standalone-stateful-menu" file="cdk-menu-standalone-stateful-menu-example.html" region="reset-item"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="d7v4to3brjk7gx65js9giu54r">你可以通过使用一个菜单项作为另一个菜单的触发器来创建嵌套菜单。</p>
<div material-docs-example="cdk-menu-menubar" file="cdk-menu-menubar-example.html" region="file-trigger"></div>


        <h4 id="menu-item-checkboxes" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="40sl4puqnojlx5zn0qexvl3an">复选菜单项</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="xyzp343xkgscikcf6z2hjq1u"><code>cdkMenuItemCheckbox</code> 是一种特殊类型的菜单项，其行为类似于复选框。你可以使用这种类型的菜单项来打开和关闭菜单项。带有 <code>cdkMenuItemCheckbox</code> 指令的元素不需要额外的 <code>cdkMenuItem</code> 指令。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4zqug091x7hoc6nrh98jvzluv">复选菜单项不跟踪它们自己的状态。你必须使用 <code>cdkMenuItemChecked</code> 输入属性来绑定选中状态，并监听 <code>cdkMenuItemTriggered</code> 以了解它何时切换。如果你不绑定状态，它将在菜单关闭并重新打开时重置。</p>
<div material-docs-example="cdk-menu-standalone-stateful-menu" file="cdk-menu-standalone-stateful-menu-example.html" region="bold-item"></div>


        <h4 id="menu-item-radios" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="8fv5qfceqavcs3vhofpykxgxa">单选菜单项</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="9aoirzmuo6kevseomnvr57goy"><code>cdkMenuItemRadio</code> 是一种特殊类型的菜单项，其行为类似于单选按钮。你可以将这种类型的菜单项用于具有唯一可选菜单项的菜单。带有 <code>cdkMenuItemRadio</code> 指令的元素不需要额外的 <code>cdkMenuItem</code> 指令。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="bmffx2abunyzasaaa5b5h78oz">与复选菜单项一样，单选菜单项不会跟踪它们自己的状态，但你可以通过绑定 <code>cdkMenuItemChecked</code> 并监听 <code>cdkMenuItemTriggered</code> 来跟踪它。如果你不绑定状态，则在关闭并重新打开菜单时选择将重置。</p>
<div material-docs-example="cdk-menu-standalone-stateful-menu" file="cdk-menu-standalone-stateful-menu-example.html" region="size-items"></div>


        <h4 id="groups" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="blv6rdt06fiooz57btdz1pqwl">菜单组</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ctonehadjshtc1giovhzl8zng">默认情况下， <code>cdkMenu</code> 会充当 <code>cdkMenuItemRadio</code> 元素的组。添加为 <code>cdkMenu</code> 子项的带有 <code>cdkMenuItemRadio</code> 的元素将在逻辑上视为一组，并且只有一个菜单项可以具有选中状态。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="3y4uga5mrascp28todrzjpkf3">如果你想在单个菜单中包含不相关的多个单选组，你应该使用 <code>cdkMenuGroup</code> 指令。</p>
<div material-docs-example="cdk-menu-standalone-stateful-menu" file="cdk-menu-standalone-stateful-menu-example.html"></div>


        <h3 id="smart-menu-aim" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="2mh54w7g71bhf3qjq58viimkb">智能菜单瞄准</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="2rsiftxwveofof29jhyn96qn1"><code>@angular/cdk/menu</code> 能够智能地预测用户何时打算导航到打开的子菜单，并防止过早关闭。此功能可防止用户在迷宫般的菜单中来回寻找目的地。要为菜单及其子菜单启用此功能，请将 
<code>cdkTargetMenuAim</code> 指令添加到 
<code>cdkMenu</code> 或 
<code>cdkMenuBar</code> 元素。</p>
<p><img src="https://material.angular.io/assets/img/menuaim.png" alt="menu aim diagram" title="Menu Aim Diagram"></p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4ljyf4m4l48g4flnrfd1p1nfe">如上图所示，我们首先在菜单中跟踪用户的鼠标移动。接下来，当用户将鼠标移入同级菜单项（例如共享按钮）时，同级菜单项会询问 Menu Aim 服务是否可以执行其关闭操作。为了确定当前子菜单是否可以关闭，Menu Aim 服务会计算子菜单中选定目标坐标与前一个鼠标点之间的斜率，以及目标与当前鼠标点之间的斜率。如果当前鼠标点的斜率大于前一个的斜率，则意味着用户正在向子菜单移动，所以我们不应该关闭。然而，用户有时可能会在移动到子菜单后停止在同级菜单项中。该服务足够智能，可以检测到这种意图并触发下一个菜单。</p>

        <h3 id="accessibility" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="55b8z3baik2ejxevaqhco84f8">无障碍性</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="2k62cppmppguwzsyasq4abuev"><code>@angular/cdk/menu</code> 中定义的指令集遵循 <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#menu" title="ARIA Menubar Pattern">ARIA 规范</a> 中定义的无障碍性最佳实践。具体来说，菜单知道从左到右和从右到左的布局并正确打开。但是，你应该添加任何必要的 CSS 样式。菜单项应始终具有有意义的标签，无论是通过文本内容、 <code>aria-label</code> 还是 <code>aria-labelledby</code> 。最后，它还支持 <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#keyboard-interaction-12" title="ARIA Menubar Keyboard Interaction">ARIA 菜单栏键盘交互规范</a>中定义的键盘交互。</p>
<!-- links -->

</div>