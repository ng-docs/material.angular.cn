<div class="docs-markdown"><p data-ng_translator_product="100" data-ng_translator_ref_id="6bz5rzyzw6ea18xl3u1qi89yl"><code>@angular/cdk/listbox</code> 模块提供指令来帮助创建基于<a href="https://www.w3.org/WAI/ARIA/apg/patterns/listbox/" title="WAI ARIA Listbox Pattern">WAI ARIA 列表框模式</a>的自定义列表框交互。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="85civljhnrt5ojk183yhzlp03">通过使用 <code>@angular/cdk/listbox</code>，你可以获得无障碍体验的所有预期行为，包括双向布局支持、键盘交互和焦点管理。所有指令都将其关联的 ARIA 角色应用于其宿主元素。</p>

        <h3 id="supported-aria-roles" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="e2t4lqedorsrxp6n722xgcglv">支持的 ARIA 角色</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="9d43rjobielhb6lw96x0rrxzg"><code>@angular/cdk/listbox</code> 中的指令在其宿主元素上设置适当的角色。</p>
<table>
<thead>
<tr>
<th data-ng_translator_product="100" data-ng_translator_ref_id="1qejxun37dz68k5ig2h0hy3bw">指令</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="bnahcf8gvc29y03zhn22vu50s">ARIA 角色</th>
</tr>
</thead>
<tbody><tr>
<td>cdkOption</td>
<td>option</td>
</tr>
<tr>
<td>cdkListbox</td>
<td>listbox</td>
</tr>
</tbody></table>

        <h3 id="css-styles-and-classes" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="5s8a34fccg1l07a1uzvb8iwf3">CSS 样式和类</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="46qh5ujd5mao0757cjlq8zroz"><code>@angular/cdk/listbox</code> 旨在根据你的需要进行高度定制。因此，它不会对元素的样式进行任何假设。你应该应用任何所需的 CSS 样式，但这些指令确实应用了 CSS 类，以便你更轻松地添加自定义样式。下面按指令列出了可用的 CSS 类。</p>
<table>
<thead>
<tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1qejxun37dz68k5ig2h0hy3bw">指令</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="e3ca1sv90dqqgy3tkq86esdhw">CSS 类</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="8tkt1zylcccsia69togkr4bfc">应用…</th>
</tr>
</thead>
<tbody><tr>
<td align="left">cdkOption</td>
<td>.cdk-option</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
<tr>
<td align="left">cdkOption</td>
<td>.cdk-option-active</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="3es4otrpvu9qitjh7irqe9fqq">如果选项处于活动状态</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>.cdk-listbox</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="67n3m6k06qfyum9c0d6kn88d8">始终</td>
</tr>
</tbody></table>
<p data-ng_translator_product="100" data-ng_translator_ref_id="e63auli6g2wwfsr7xcvkhjynm">除了 CSS 类之外，这些指令还添加了可以在 CSS 中定位的 aria 属性。</p>
<table>
<thead>
<tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1qejxun37dz68k5ig2h0hy3bw">指令</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="3ofae9r04tth3dg0gyzdfx6jp">属性选择器</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="8tkt1zylcccsia69togkr4bfc">应用…</th>
</tr>
</thead>
<tbody><tr>
<td align="left">cdkOption</td>
<td>[aria-disabled="true"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="4yo93ymkusb44j7o8e131lx7t">如果选项被禁用</td>
</tr>
<tr>
<td align="left">cdkOption</td>
<td>[aria-disabled="false"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="vcxl2ty4d8zn5qmksbreldvq">如果选项未被禁用</td>
</tr>
<tr>
<td align="left">cdkOption</td>
<td>[aria-selected="true"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="chsfawg667s1ezqm2rfq6zbb0">如果选项被选中</td>
</tr>
<tr>
<td align="left">cdkOption</td>
<td>[aria-selected="false"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="5498g4cs2tf9eqcc4o82vpvbt">如果选项未被选中</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>[aria-disabled="true"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="akwkpydjc2gkajg7g4alnq8mu">如果列表框被禁用</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>[aria-disabled="false"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="91316ls6neqc8b59bbwirn0et">如果列表框未被禁用</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>[aria-multiselectable="true"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="bo5cirxh3nvs7fpxb14f7fsam">如果列表框是多选</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>[aria-multiselectable="false"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="aa2k4onpp6rmh9dhm4xle739l">如果列表框是单选</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>[aria-orientation="horizontal"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="a8wrc6aknk1yn4zvbj60zxg3i">如果列表框是水平方向</td>
</tr>
<tr>
<td align="left">cdkListbox</td>
<td>[aria-orientation="vertical"]</td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="au7l9ju5akpbmtcag50zt2gbz">如果列表框是垂直方向</td>
</tr>
</tbody></table>

        <h3 id="getting-started" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="25kql3n3h5elrbwt098akm93o">入门指南</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="7df4a5qfy3wlq43k1vfjzqu9s">将此 <code>CdkListboxModule</code> 导入到要在其中创建列表框的 <code>NgModule</code> 中。然后你可以应用列表框指令来构建你的自定义列表框。典型的列表框由以下指令组成：</p>
<ul>
<li data-ng_translator_product="100" data-ng_translator_ref_id="bpts7ip4tl64eh9jocn3luy2b"><code>cdkListbox</code> - 添加到包含要选择的选项的容器元素上</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="khvhyq1ks8oack139hvi02ru"><code>cdkOption</code> - 添加到列表框中的每个可选选项上</li>
</ul>
<div material-docs-example="cdk-listbox-overview" file="cdk-listbox-overview-example.html" region="listbox"></div>


        <h3 id="option-values" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="c9gpi698n7yv83vmmsx25se4a">选项值</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="a9bsmh5cs4ws481pfknun393a">列表框中的每个选项都会绑定到它在被选中时代表的值，例如 <code>&lt;li cdkOption="red"&gt;Red&lt;/li&gt;</code> 。在单个列表框中，每个选项都必须具有唯一值。如果一个选项没有被明确地赋予一个值，它的值被认为是 <code>''</code> （空字符串），例如 <code>&lt;li cdkOption&gt;No color preference&lt;/li&gt;</code> 。</p>
<div material-docs-example="cdk-listbox-overview" file="cdk-listbox-overview-example.html" region="option"></div>


        <h3 id="single-vs-multiple-selection" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="5399emyukqfy9pls3qlfeoy6s">单选与多选</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="90kjmv1b94j0ncrbuuvi23ilg">默认情况下，列表框一次只支持一个选定的选项，但添加 <code>cdkListboxMultiple</code> 将允许选择多个选项。</p>
<div material-docs-example="cdk-listbox-multiple" file="cdk-listbox-multiple-example.html" region="listbox"></div>


        <h3 id="listbox-value" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="83fywogiurccjxkm1v7ua06ki">列表框的值</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="adgkoonnqu62aw0oih9i5ynow">此列表框的值是一个数组，其中包含所选选项的值。即使对于单选列表框亦是如此，它的值是一个包含单个元素的数组。可以使用 <code>[cdkListboxValue]</code> 和 <code>(cdkListboxValueChange)</code> 绑定列表框的值。</p>
<div material-docs-example="cdk-listbox-value-binding" file="cdk-listbox-value-binding-example.html" region="listbox"></div>

<p data-ng_translator_product="100" data-ng_translator_ref_id="9pjzofb9aqkm85hqv8ncovjtb">在内部，列表框使用 <code>Object.is</code> 将列表框值与各个选项值进行比较，以确定应该选择哪些选项。如果你的选项值是复杂的对象，你应该提供一个自定义的比较函数。这可以通过列表框上的 <code>cdkListboxCompareWith</code> 输入属性设置。</p>
<div material-docs-example="cdk-listbox-compare-with" file="cdk-listbox-compare-with-example.html" region="listbox"></div>


        <h3 id="angular-forms-support" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="bjuw09tsbllmp1m08ntrlz33">Angular 表单支持</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="4r15nhwyt8g51lbvd7v6l2ofw">CDK 列表框支持模板驱动表单和响应式表单。</p>
<div material-docs-example="cdk-listbox-template-forms" file="cdk-listbox-template-forms-example.html" region="listbox"></div>

<div material-docs-example="cdk-listbox-reactive-forms" file="cdk-listbox-reactive-forms-example.html" region="listbox"></div>


        <h4 id="forms-validation" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="efhcq4p3pqhhz83sd6jaoxno2">表单验证</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="1qtrpuvi91oef0xk4rjaa19zd">CDK 列表框与 Angular 的表单验证 API 集成，并具有以下内置验证错误：</p>
<ul>
<li data-ng_translator_product="100" data-ng_translator_ref_id="cif2gun4f8z14ciuae6q9nu96"><code>cdkListboxUnexpectedOptionValues</code> - 当绑定值包含未作为选项值出现在列表框中的值时引发。验证错误包含一个列出无效值的 <code>values</code> 属性</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="avhn4z5frvhnbodpcdqsh9oi8"><code>cdkListboxUnexpectedMultipleValues</code> - 当单选列表框绑定到包含多个选定选项的值时引发。</li>
</ul>
<div material-docs-example="cdk-listbox-forms-validation" file="cdk-listbox-forms-validation-example.ts" region="errors"></div>


        <h3 id="disabling-options" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="6ucnabiuy64943r24h2yoa482">禁用候选项</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="37cg781f8l0filjn4lp0tjtge">你可以通过设置 <code>cdkOptionDisabled</code> 来禁用候选项。此外，可以通过在列表框元素上设置 <code>cdkListboxDisabled</code> 来禁用整个列表框控件。</p>
<div material-docs-example="cdk-listbox-disabled" file="cdk-listbox-disabled-example.html" region="listbox"></div>


        <h3 id="accessibility" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="55b8z3baik2ejxevaqhco84f8">无障碍性</h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="12magm96iowbtvuz3mlpd7xjf"><code>@angular/cdk/listbox</code> 中定义的指令遵循<a href="https://www.w3.org/WAI/ARIA/apg/patterns/listbox/" title="WAI ARIA Listbox Pattern">ARIA 规范</a>中定义的无障碍性最佳实践。支持键盘交互，如<a href="https://www.w3.org/WAI/ARIA/apg/patterns/listbox/#keyboard-interaction-11" title="WAI ARIA Listbox Keyboard Interaction">ARIA 列表框键盘交互规范</a>中所定义，<em>没有</em>可选的选择结果会遵循焦点逻辑（TODO：我们应该将其作为一个选项吗？）。</p>

        <h4 id="listbox-label" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="1jia8dk7bdz794foda2dv9qdm">列表框标签</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="18f4jkapu1f4nyect0y021ksx">始终为列表框提供一个对屏幕阅读器有意义的标签。如果你的列表框有一个可视标签，你可以使用 <code>aria-labelledby</code> 将它与列表框相关联，否则你应该使用 <code>aria-label</code> 提供一个屏幕阅读器专用标签。</p>

        <h4 id="roving-tabindex-vs-active-descendant" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="ewz26b7bvyvdneegpleaqsgn7">非固定 tabindex 与活动后代</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="bbvkb4l4d9kuz9q1kmvh26t39">默认情况下，CDK 列表框使用<a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/Keyboard-navigable_JavaScript_widgets#technique_1_roving_tabindex" title="MDN Roving Tabindex Technique">非固定 tabindex</a>策略来管理焦点。如果你更喜欢使用<a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/Keyboard-navigable_JavaScript_widgets#technique_2_aria-activedescendant" title="MDN aria-activedescendant Technique">aria-activedescendant</a>策略，请在列表框中设置 <code>useActiveDescendant=true</code> 。</p>
<div material-docs-example="cdk-listbox-activedescendant" file="cdk-listbox-activedescendant-example.html" region="listbox"></div>


        <h4 id="orientation" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="101spt16eyvv85zpov8t4mhiq">方向</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="6qek0y2z5xtf4n2zohikl1tp3">默认情况下，列表框采用垂直方向，但可以通过设置 <code>cdkListboxOrientation</code> 输入属性进行自定义。请注意，这只会影响键盘导航。你仍然需要调整 CSS 样式以更改视觉外观。</p>
<div material-docs-example="cdk-listbox-horizontal" file="cdk-listbox-horizontal-example.html" region="listbox"></div>


        <h4 id="option-typeahead" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="690rc8cg8ps5hzmtg4zz0flab">预先输入选项</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ecp6y3eskpb76zvqxdmttwoq2">CDK 列表框支持基于选项文本的预先输入。如果选项的预先输入文本需要与显示文本不同（例如，排除表情符号），这可以通过在选项上设置 <code>cdkOptionTypeaheadLabel</code> 来实现。</p>
<div material-docs-example="cdk-listbox-custom-typeahead" file="cdk-listbox-custom-typeahead-example.html" region="listbox"></div>


        <h4 id="keyboard-navigation-options" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="buhxukceoe5mc4mwh8dvy988d">键盘导航选项</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="7z15btf719fpthzoowrv17bb3">使用键盘导航浏览选项时，导航会在尝试浏览选项的开头或结尾时回绕。要更改此设置，请用列表框上的 <code>cdkListboxNavigationWrapDisabled</code> 。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="523g5ldhhpz7mp9s0emq8u4u2">默认情况下，键盘导航会跳过禁用的选项。要更改此设置，请用列表框上的 <code>cdkListboxNavigatesDisabledOptions</code> 。</p>
<div material-docs-example="cdk-listbox-custom-navigation" file="cdk-listbox-custom-navigation-example.html" region="listbox"></div>

<!-- links -->

</div>