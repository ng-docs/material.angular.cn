<div class="docs-markdown"><p data-ng_translator_product="100" data-ng_translator_ref_id="dqn58emi4bsy6zn3c31ivmrg">这个 <code>layout</code> 包提供了一些工具来构建响应式用户界面，以响应屏幕尺寸的变化。</p>

        <h3 id="breakpointobserver" class="docs-header-link">
          
          BreakpointObserver
        </h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ay2ojdf1yjx8xz657c5czzeua">布局<strong>断点</strong>是指可能发生布局偏移的视口大小阈值。断点之间的视口尺寸范围对应于不同的标准屏幕尺寸。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4zelq9ulahzqe81nxm62t85ez"><code>BreakpointObserver</code> 是一个用于对媒体查询进行求值，并对其查询结果的变化作出反应的实用工具。</p>
<div material-docs-example="breakpoint-observer-overview"></div>


        <h4 id="check-the-current-viewport-size" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="861yqwreptt9x7xs3fiwuyyqt">检查当前视口大小</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="a9pvt7qb6y9f3bhd0y4yonbz6">你可以使用 <code>isMatched</code> 方法根据当前视口大小来计算一个或多个媒体查询。</p>
<pre><code class="language-ts"><span class="hljs-keyword">const</span> isSmallScreen = breakpointObserver.isMatched(<span class="hljs-string">'(max-width: 599px)'</span>);
</code></pre>

        <h4 id="react-to-changes-to-the-viewport" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="8prge51efc4ohz07s8dqals7d">对视口的变化做出反应</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="55wjsgkr2gbi4u7miud248qlv">你可以使用 <code>observe</code> 方法获取一个可观察流，该流会在视口大小越过断点时发出事件。</p>
<pre><code class="language-ts"><span class="hljs-keyword">const</span> layoutChanges = breakpointObserver.observe([
  <span class="hljs-string">'(orientation: portrait)'</span>,
  <span class="hljs-string">'(orientation: landscape)'</span>,
]);

layoutChanges.subscribe(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
  updateMyLayoutForOrientationChange();
});
</code></pre>

        <h4 id="predefined-breakpoints" class="docs-header-link" data-ng_translator_product="100" data-ng_translator_ref_id="9i9pnr516dmupak1u0v81ci8q">预定义断点</h4>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="3hzzmk5ag8my8s5zfkr5kc46n">为方便起见，内置的 <code>Breakpoints</code> 常量提供了下列预定义断点，这些断点<a href="https://material.io/archive/guidelines/layout/responsive-ui.html">最初来自 Material Design 规范</a>。</p>
<table>
<thead>
<tr>
<th data-ng_translator_product="100" data-ng_translator_ref_id="cm3mevktasyz6943284dtl64a">断点名称</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="bmwz5ddqzotosu3q6vxhqf7mn">媒体查询</th>
</tr>
</thead>
<tbody><tr>
<td><code>XSmall</code></td>
<td><code>(max-width: 599.98px)</code></td>
</tr>
<tr>
<td><code>Small</code></td>
<td><code>(min-width: 600px) and (max-width: 959.98px)</code></td>
</tr>
<tr>
<td><code>Medium</code></td>
<td><code>(min-width: 960px) and (max-width: 1279.98px)</code></td>
</tr>
<tr>
<td><code>Large</code></td>
<td><code>(min-width: 1280px) and (max-width: 1919.98px)</code></td>
</tr>
<tr>
<td><code>XLarge</code></td>
<td><code>(min-width: 1920px)</code></td>
</tr>
<tr>
<td><code>Handset</code></td>
<td><code>(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)</code></td>
</tr>
<tr>
<td><code>Tablet</code></td>
<td><code>(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)</code></td>
</tr>
<tr>
<td><code>Web</code></td>
<td><code>(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)</code></td>
</tr>
<tr>
<td><code>HandsetPortrait</code></td>
<td><code>(max-width: 599.98px) and (orientation: portrait)</code></td>
</tr>
<tr>
<td><code>TabletPortrait</code></td>
<td><code>(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)</code></td>
</tr>
<tr>
<td><code>WebPortrait</code></td>
<td><code>(min-width: 840px) and (orientation: portrait)</code></td>
</tr>
<tr>
<td><code>HandsetLandscape</code></td>
<td><code>(max-width: 959.98px) and (orientation: landscape)</code></td>
</tr>
<tr>
<td><code>TabletLandscape</code></td>
<td><code>(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)</code></td>
</tr>
<tr>
<td><code>WebLandscape</code></td>
<td><code>(min-width: 1280px) and (orientation: landscape)</code></td>
</tr>
</tbody></table>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7z5ylw4avyzmakqtz6xsh7n79">你可以将这些预定义断点与 <code>BreakpointObserver</code> 一起使用。</p>
<pre><code class="language-ts">breakpointObserver.observe([
  Breakpoints.HandsetLandscape,
  Breakpoints.HandsetPortrait
]).subscribe(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (result.matches) {
    <span class="hljs-built_in">this</span>.activateHandsetLayout();
  }
});
</code></pre>

        <h3 id="mediamatcher" class="docs-header-link">
          
          MediaMatcher
        </h3>
      <p data-ng_translator_product="100" data-ng_translator_ref_id="a8qi6epdeaobtt935zuhfi0bm"><code>MediaMatcher</code> 是一个较底层的实用工具，它是对原生 <code>matchMedia</code> 的包装。该服务规范了浏览器的差异，可以作为一个便利 API 实用，可以在单元测试时用假对象来代替它。<code>matchMedia</code> 方法可以用来获取原生的 <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList"><code>MediaQueryList</code></a>。</p>
<pre><code class="language-ts"><span class="hljs-meta">@Component</span>({...})
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">mediaMatcher: MediaMatcher</span>)</span> {
    <span class="hljs-keyword">const</span> mediaQueryList = mediaMatcher.matchMedia(<span class="hljs-string">'(min-width: 1px)'</span>);
  }
}
</code></pre>
</div>